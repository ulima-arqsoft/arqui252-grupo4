# 2.2.4. Módulo 4
- [Volver al índice](/2/2.md)

## Módulo de Sistema de Pagos

| ID Escenario | Fuente Estímulo | Estímulo | Artefacto | Entorno | Respuesta Esperada | Métrica (Respuesta) |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **ESC-09** | API externa (Proveedor de pago) | Fallo de red al guardar la transacción | Sistema de colas de mensajes (asíncrono) | Producción | Reintentos automáticos por 3 veces en 5 minutos | Notificación al usuario: “Sincronizado” |
| **ESC-05** | Usuario | Clic en “Añadir al carrito” | Componente de botón (Frontend) | Producción | Cambio visual a “Añadido” en menos de 1 segundo | 100% de respuestas |
| **ESC-11** | Equipo backend | Cambio en estructura de BD de transacciones | ORM / Modelos de BD | Desarrollo | Pruebas de integración sin fallos tras migración | 0 errores |
| **ESC-25** | Scripts de QA | Pruebas de carga sobre `/payment` | Límite de 3 requests/minuto | Producción | Respuesta 429 Too Many Requests | 100% de limitación |
| **ESC-26** | Scripts de QA | Borrado de cuenta con logs activos | Límite de requests | Producción | Registro completo en logs: [timestamp, IP, request_type, status] | 100% de datos registrados |
| **ESC-28** | Usuario | Exportar historial de pagos a PDF/CSV | Generador de Reportes | Producción | Generación de archivo PDF/A-1b con todos los datos | 100% de documentos |