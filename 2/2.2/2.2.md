# 2.2. Requisitos de Atributos de Calidad (Escenarios por Módulo)

El siguiente catálogo presenta 30 escenarios estructurados (ESC-01 a ESC-30) que ejemplifican requisitos de calidad en sistemas software.  En la carpeta [QAW](./QAW/S03-2 QAW.xlsx) se encuentra todo el proceso detallado que se llevo con el fin de obtener la presente de tabla de los escenarios de calidad refinados.

| ID Escenario | Atributo de Calidad | Fuente de Estímulo | Estímulo | Artefacto | Entorno | Respuesta Esperada | Métrica (Respuesta) |
|---------------|--------------------|--------------------|-----------|------------|----------|---------------------|----------------------|
| **ESC-02** | Usabilidad | Usuario | Tres intentos fallidos de login | Formulario de Login | Producción | Mensaje de error claro en color rojo bajo el campo de la contraseña | 95% de usuarios |
| **ESC-10** | Confiabilidad | | **ESC-10** | Usuario | Un usuario, debido a una red lenta, hace doble clic en el botón "Confirmar Pago". | Microservicio de Pagos (Lógica de Idempotencia) | Producción | El sistema procesa la primera solicitud, pero identifica y rechaza la segunda como un duplicado, garantizando un único cobro. | El **100% de las solicitudes duplicadas** para la misma orden son rechazadas. |
| **ESC-01** | Usabilidad | Usuario experto | Búsqueda combinando 3 filtros (Género, Plataforma, Etiqueta) | Endpoint API `/catalog/search` | Producción | Resultados paginados en menos de 3 segundos | 99% de precisión |
| **ESC-05** | Seguridad | Actor malicioso (externo) | Intento de pago con una tarjeta de crédito previamente reportada como fraudulenta. | Microservicio de Pagos / Sistema Antifraude | Producción | La transacción es rechazada automáticamente y se genera una alerta de seguridad interna. | El **100% de los intentos** con tarjetas en la lista negra son bloqueados. |
| **ESC-24** | Resiliencia | Sistema | 5 intentos fallidos de login desde la misma cuenta | Middleware de autenticación | Producción | Bloqueo temporal de la cuenta por 10 minutos | 100% de intentos |
| **ESC-07** | Rendimiento | Usuario | Clic en “Login con Google” | Componentes de terceros (OAuth) | Producción | Token JWT generado e inicio de sesión en 1 segundo | 100% de logins |
| **ESC-09** | Disponibilidad | API externa (Proveedor de pago) | Falla de red intermitente al procesar una transacción. | Sistema de colas de mensajes (asíncrono) | Producción | El sistema reintenta procesar el pago automáticamente hasta 3 veces en un lapso de 5 minutos. | **99% de las transacciones** con fallos intermitentes se completan exitosamente. |
| **ESC-03** | Usabilidad | Usuario | Error tipográfico en búsqueda (“Wicher 3”) | Algoritmo de búsqueda | Producción | Sugerencia: “¿Quisiste decir: ‘The Witcher 3’?” | 90% de correcciones |
| **ESC-12** | Confiabilidad | Sistema | Búsqueda con “call of duty” (sin capitalización) | Algoritmo de búsqueda | Producción | Sugerencia: “¿Quisiste decir: ‘Call of Duty’?” | 90% de correcciones |
| **ESC-06** | Seguridad | Sistema | 5 intentos de login con la misma IP | API Gateway (Rate Limiter) | Producción | Bloqueo temporal de la IP por 10 minutos | 100% de intentos |
| **ESC-04** | Usabilidad | Usuario | Cambio de contraseña exitoso | Formulario de Recuperación | Producción | Mensaje de confirmación a pantalla completa | 97% de usuarios |
| **ESC-08** |Rendimiento| Herramienta de Carga | **15 usuarios creando pedidos simultáneamente.** | Microservicio de **Pedidos** | Producción | El endpoint de creación de pedidos responde en menos de 5 segundos. | **95% de los pedidos se crean exitosamente** bajo la carga definida. |
| **ESC-11** | Mantenibilidad | Desarrollador | Se solicita añadir un nuevo campo (`payment_method_id`) a la tabla de transacciones de pago. | ORM / Esquema de la BD de Pagos | Desarrollo | La migración de la base de datos se aplica y las pruebas de integración específicas de pago se ejecutan sin fallos. | El cambio se completa en **menos de 2 horas-hombre** y el **100% de las pruebas pasan**. |
| **ESC-13** | Integrabilidad | Integración externa | Búsqueda errónea (“Cyberpank”) | Lógica de sugerencia | Producción | Sugerencia: “¿Quisiste decir: ‘Cyberpunk 2077’?” | 90% de correcciones |
| **ESC-14** | Integrabilidad | Usuario con navegación por teclado | Navegación por teclado en la web | Focus visible (CSS/JS) | Producción | Focus visible y claro en todos los elementos interactivos | 100% de WCAG 2.1 AA |
| **ESC-18** | Escalabilidad | Backend (Dev) | Cambio de API de precios o inventario | Adaptadores de servicio | Desarrollo | Actualización del adaptador sin cambios en frontend | 0 errores en pruebas |
| **ESC-19** | Disponibilidad | Simulador de Red | Se pierde la conexión al intentar **crear un pedido**. | **Mecanismo de guardado local** (Service Worker / PWA) | Producción | El sistema notifica al usuario: “Sin conexión. Tu pedido se guardó como borrador y se enviará al reconectar.” | **100% de los pedidos** intentados sin conexión se guardan localmente. |
| **ESC-20** | Trazabilidad | Equipo backend | Implementación de nuevo Adapter | Adaptadores con Triggers de Logs | Desarrollo | Registro de logs de uso en 4 horas | 100% de endpoints |
| **ESC-21** | Usabilidad | Usuario | Mueve un juego del carrito a la "Lista de Deseos". | Lógica de Negocio (Backend) | Producción | El juego se elimina del carrito y se añade a la lista de deseos en la base de datos. Se muestra una confirmación visual. | **100% de las solicitudes** se completan correctamente a nivel de datos. |
| **ESC-22** | Flexibilidad | Usuario | Login con Google | Componentes de terceros (OAuth) | Producción | Token JWT generado < 1 segundo | 100% de logins |
| **ESC-23** | Mantenibilidad | Desarrollador | El área de negocio solicita integrar una nueva pasarela de pago (ej. PayPal) como alternativa a Stripe. | Microservicio de Pagos | Tiempo de diseño y desarrollo | El cambio se implementa y la nueva pasarela se integra sin afectar la operación de la pasarela existente (Stripe). | El desarrollo se completa en menos de 40 horas-hombre y no introduce defectos en las transacciones existentes. |
| **ESC-28** | Funcionalidad | Usuario | El usuario solicita exportar su historial de pagos de los últimos 6 meses. | Microservicio de Reportes de Pagos | Producción | Se genera un archivo en formato **PDF/A-1b** que contiene la fecha, monto y estado de cada transacción. | El **100% de los reportes generados son válidos** y contienen los datos correctos del período solicitado. |
| **ESC-29** | Funcionabilidad | Usuario | Solicita la **generación de la factura** para un pedido completado. | Generador de Reportes (PDF) | Producción | Se genera un archivo PDF en formato PDF/A-1b que contiene todos los datos fiscales y del pedido. | **100% de las facturas generadas son válidas** y contienen los datos correctos. |
| **ESC-30** | Portabilidad | Usuario | Login con Google en diferentes navegadores | OAuth 2.0 + JWT | Producción | Implementación con Passport.js | 100% de funcionalidad |
| **ESC-15** | Mantenibilidad | Dev junior | Nuevo filtro “Juego de 2024” | Migración de BD | Desarrollo | Despliegue sin interrupción del servicio | 100% de disponibilidad |
| **ESC-16** | Mantenibilidad | DevOp | Actualización de React 17 a 18 | package.json + Linters | Desarrollo | Build exitoso en CI/CD | 0 warnings |
| **ESC-17** | Mantenibilidad | QA Tester | Acceso a `/profile` en Firefox | Normalizar.css + Styling | Desarrollo | Estilos idénticos a Chrome | 100% de match visual |
| **ESC-25** | Rendimiento | Scripts de QA (Pruebas de Carga) | Se envían 10 solicitudes por minuto al endpoint `/payment`. | Rate Limiter del API Gateway | Producción | Las primeras 3 solicitudes son exitosas (código 200), las siguientes reciben un error `429 Too Many Requests`. | El **100% de las solicitudes** que exceden el límite son bloqueadas con el código 429. |
| **ESC-26** | Usabilidad | Usuario | El usuario introduce un número de tarjeta de crédito inválido y presiona "Pagar". | Formulario de Pago (Frontend) | Producción | El sistema muestra un mensaje de error claro ("Número de tarjeta inválido") en **menos de 500ms** y no intenta procesar el pago. | El **100% de los formatos de tarjeta inválidos** son detectados en el cliente sin enviar la solicitud. |
| **ESC-27** | Observabilidad | Usuario | Spam en “Recomendar Juego” | Express-rate-limit | Producción | Límite de 3 requests/minuto y log registrado | 100% de limitación |