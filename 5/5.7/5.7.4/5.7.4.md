> [5. T√°cticas](../../5.md) ‚Ä∫ [5.7. Listado Consolidado](../5.7.md) ‚Ä∫ [5.7.4. T√°cticas de Rendimiento](5.7.4.md)

# 5.7.4. T√°cticas de Rendimiento

##  M√≥dulo 03: Carrito de Compras y Pedidos

## Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|--------------------|--------------------------|---------------|--------------------------|----------------|---------------|--------------------------|---------------------------|
| ESC-CCP-07 | Rendimiento | 200 usuarios a√±aden productos simult√°neamente | Usuarios concurrentes | Backend del Carrito | Horario Pico | Sistema mantiene latencia estable | < 2 s por operaci√≥n |

- Aplica t√©cnica de **Optimizaci√≥n de Lectura/Escritura** con las siguientes alternativas:  
  1. Implementar **Redis Cache para sesiones de usuario**.  
  2. Configurar **Optimizaci√≥n Profunda de la DB** para las tablas del carrito.

### **T√°ctica Elegida**
**Optimizaci√≥n de Lectura/Escritura**

**Contexto:**  
Durante campa√±as, m√∫ltiples usuarios realizan modificaciones simult√°neas al carrito, generando carga en la base de datos.

**Alternativas:**  
1. **Redis Cache:**  
   - Guarda temporalmente los carritos activos.  
   - Reduce consultas repetitivas.  

2. **Optimizaci√≥n de la DB :**  
   - Crea √≠ndices compuestos y espec√≠ficos para las consultas de carrito por ID de usuario y sesi√≥n.  
   - Aplica sharding o particionamiento a la tabla del carrito para distribuir f√≠sicamente los datos.  

**Criterios de elecci√≥n:**  
- **Rendimiento:** Mantener respuesta <2 s.  
- **Eficiencia:** Reducci√≥n de consultas redundantes.  
- **Consistencia:** Sin p√©rdida de datos.  

**Decisi√≥n:**  
Redis Cache .  

**Sustento:**  
Soluci√≥n m√°s efectiva para el est√≠mulo de concurrencia intensa y necesidad de baja latencia. Aplica el principio de Divide y Vencer√°s aislando las costosas operaciones de lectura en una capa ultrarr√°pida (memoria), garantizando que el sistema pueda manejar los 200 usuarios simult√°neos y mantener la latencia cr√≠tica por debajo de 2 segundos. 

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|--------------------|--------------------------|---------------|--------------------------|----------------|--------------|----------------|----------------|
| ESC-CCP-08 | Rendimiento | Consultas masivas de historial de pedidos | Usuarios y Admin | Servicio de historial | Producci√≥n | Respuestas paginadas y cacheadas | Tiempo de respuesta < 1.5 s |

**Aplica t√©cnica de Paginaci√≥n y Caching con alternativas:**  
1. Consultas directas a base de datos.  
2. Paginaci√≥n + almacenamiento temporal en memoria (Redis).

### **T√°ctica Elegida**
**Paginaci√≥n + Caching**

**Contexto:**  
El historial de pedidos puede ser muy grande, afectando rendimiento del sistema si se consultan todos los registros a la vez.

**Alternativas:**

**1. Consultas directas:**  
- Acceso completo a la base de datos.  
- Riesgo de latencia alta y bloqueo.  

**2. Paginaci√≥n + Caching:**  
- Se divide la respuesta en bloques.  
- Cache temporal de p√°ginas visitadas.  

**Criterios:**  
- Velocidad de consulta.  
- Escalabilidad ante gran cantidad de usuarios.  
- Uso eficiente de memoria.  

**Decisi√≥n:**  
Paginaci√≥n + Caching.

**Sustento:**  
Permite manejar historiales extensos sin afectar la experiencia del usuario, garantizando consultas r√°pidas y evitando sobrecarga en la base de datos.

---

##  M√≥dulo 04: Sistema de Pagos

## Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|--------------------|--------------------------|---------------|--------------------------|----------------|---------------|--------------------------|---------------------------|
| ESC-SP-07 | Rendimiento | Aumento de 300% en solicitudes simult√°neas | Usuarios concurrentes | Backend de Pagos | Horario Pico | Sistema mantiene tiempos de respuesta estables | < 2 s promedio de respuesta |

- Aplica t√©cnica de **Caching y Balanceo de Carga** con las siguientes alternativas:  
  1. Implementar **Redis Cache** para peticiones repetitivas.  
  2. Configurar **Load Balancer (AWS ELB)**.

### **T√°ctica Elegida**
**Caching y Balanceo de Carga**

**Contexto:**  
Durante campa√±as promocionales, el tr√°fico puede triplicarse. Las operaciones deben mantenerse estables sin afectar los tiempos de pago.

**Alternativas:**  
1. **Redis Cache:**  
   - Almacena respuestas frecuentes.  
   - Reduce carga del backend.  

2. **Load Balancer:**  
   - Distribuye tr√°fico entre m√∫ltiples instancias activas.  
   - Monitoreo en tiempo real.  

**Criterios de elecci√≥n:**  
- **Escalabilidad:** Tolerar m√°s de 2000 solicitudes concurrentes.  
- **Rendimiento:** Tiempos <2s por transacci√≥n.  
- **Costo:** Ajuste din√°mico de instancias.  

**Decisi√≥n:**  
Load Balancer.

**Sustento:**  
Esto garantiza que el sistema pueda escalar eficientemente agregando m√°s instancias bajo el Balanceador, absorbiendo el pico de tr√°fico y manteniendo los tiempos de respuesta estables por debajo de 2 segundos sin sobrecargar ning√∫n recurso individual.

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
|------------------|------------------------|--------------|------------------------|---------------|-------------|----------------|----------------|
| ESC-SP-08 | Rendimiento | Picos de transacciones por eventos especiales | Usuarios y promociones | Servicio de pagos | Producci√≥n | Escalado autom√°tico y tiempos estables | < 1.8 s promedio por transacci√≥n |

**Aplica t√©cnica de Autoescalado con alternativas:**  
1. Escalado manual de instancias.  
2. Autoescalado basado en m√©tricas de CPU y tr√°fico.

### **T√°ctica Elegida**
**Autoescalado en la nube**

**Contexto:**  
Durante eventos como Black Friday, el sistema debe aumentar autom√°ticamente su capacidad para mantener rendimiento sin intervenci√≥n humana.

**Alternativas:**

**1. Escalado manual:**  
- Riesgo de retraso y saturaci√≥n en picos inesperados.  

**2. Autoescalado:**  
- Instancias adicionales activadas autom√°ticamente seg√∫n m√©tricas.  

**Criterios:**  
- Escalabilidad inmediata  
- Continuidad del servicio  
- Costo eficiente de recursos  

**Decisi√≥n:**  
Autoescalado

**Sustento:**  
Garantiza que el m√≥dulo de pagos soporte altos vol√∫menes de transacciones sin afectar SLA, optimizando costos de infraestructura y asegurando experiencia del usuario.


##  M√≥dulo 05: Comunidad y Rese√±as
### Escenario 1: Carga Lenta de P√°gina con Muchas Rese√±as 

| **Cod Escenario** | **Atributo de Calidad** | **Est√≠mulo** | **Fuente del Est√≠mulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **ESC-CR-04** | **Rendimiento** | Un usuario carga la p√°gina de un juego popular con m√°s de 4,000 rese√±as. | Usuario leg√≠timo. | API de Rese√±as y Frontend. | Operaci√≥n Normal | La p√°gina carga r√°pidamente, mostrando la informaci√≥n principal del juego y el primer "lote" de rese√±as. El resto se carga bajo demanda. | El tiempo de carga inicial de la p√°gina (LCP) es < 2.5 segundos. La consulta a la base de datos para obtener las rese√±as tarda < 100ms. |

- Aplica t√©cnica de **Gestionar Recursos** con alternativas:
    1.  Cargar todas las rese√±as en una sola petici√≥n.
    2.  Paginaci√≥n de datos en la API y almacenamiento en cach√© de datos agregados.

### T√°ctica Elegida
Paginaci√≥n de Datos en la API + Caching de Datos Agregados con Redis.

**Contexto:**
Cargar miles de registros de una base de datos en una sola consulta es ineficiente, lento y puede sobrecargar tanto el servidor como el navegador del cliente. La experiencia del usuario se ve directamente afectada por tiempos de carga prolongados. üê¢

**Alternativas:**
1.  **Cargar Todo de una Vez (F√°cil pero Ineficiente):**
    - El endpoint `GET /reviews` devuelve un JSON con las 4,000 rese√±as.
    - **Vulnerabilidad:** La consulta a la base de datos es extremadamente lenta. La transferencia de datos consume mucho ancho de banda. El navegador puede congelarse al intentar renderizar tantos elementos.

2.  **Paginaci√≥n y Cach√© (Moderada y Elegida):**
    - La API implementa **paginaci√≥n (f√°cil)**, devolviendo las rese√±as en lotes (ej. `GET /reviews?page=1&limit=20`). Los frameworks y ORMs modernos facilitan enormemente esta tarea.
    - Se implementa una **cach√© con Redis (moderado)** para almacenar datos agregados que se calculan con frecuencia, como la calificaci√≥n promedio y el n√∫mero total de rese√±as, evitando consultas costosas en cada carga de p√°gina.

**Criterios de elecci√≥n:**
- **Latencia:** Minimizar el tiempo de carga inicial para el usuario.
- **Eficiencia de Recursos:** Reducir la carga en la base de datos y el consumo de ancho de banda.
- **Experiencia de Usuario:** Proporcionar una interfaz fluida que cargue contenido a medida que el usuario lo necesita (ej. scroll infinito).

**Decisi√≥n:**
Paginaci√≥n de Datos en la API + Caching de Datos Agregados.

**Sustento:**
Esta combinaci√≥n ofrece una mejora dr√°stica del rendimiento con un esfuerzo razonable. La **paginaci√≥n** es una pr√°ctica est√°ndar y f√°cil de implementar que resuelve el problema de la carga masiva de datos. A√±adir una **cach√©** para los datos agregados reduce a√∫n m√°s la carga en la base de datos, garantizando que incluso las p√°ginas m√°s populares se mantengan r√°pidas y responsivas.

---

[‚¨ÖÔ∏è Anterior](../5.7.3/5.7.3.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../5.7.5/5.7.5.md)
