# 3.2. Brainstorming de Escenarios

| ID | Stakeholder | Atributo de Calidad | Estímulo | Respuesta | Comentarios |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **ESCP-01** | STK-01 | **Mantenibilidad** | Se necesita añadir una nueva regla de "envío gratis sobre S/ 150". | La nueva regla se configura y activa desde un panel de administración, sin modificar código. | Agilidad del negocio. |
| **ESCP-02** | STK-01 | Trazabilidad | Un auditor necesita verificar todas las ventas de la campaña "Cyber Wow". | El sistema provee un reporte que rastrea el origen y los detalles de cada venta asociada a la campaña. | Análisis de ROI. |
| **ESCP-03** | STK-01 | **Usabilidad** | Un nuevo vendedor se registra en la plataforma. | La interfaz guía al vendedor para que complete su perfil y publique su primer producto en menos de 10 minutos. | Reduce curva de aprendizaje. |
| **ESCP-04** | STK-01 | **Rendimiento** | El costo de infraestructura en la nube aumenta un 50% debido a un pico de tráfico. | La arquitectura elástica escala los recursos automáticamente, optimizando el costo cuando el pico termina. | Optimización de recursos. |
| **ESCP-05** | STK-02 | **Seguridad** | Un administrador intenta crear una regla de negocio que entra en conflicto con una existente. | El sistema valida la nueva regla, detecta el conflicto y rechaza la acción con un mensaje de error claro. | Protección de datos sensibles. |
| **ESCP-06** | STK-02 | **Seguridad** | Un actor malicioso intenta realizar un ataque de inyección SQL en el formulario de login. | La solicitud es rechazada, se registra el intento y se alerta al sistema de seguridad. | Previene ataques comunes. |
| **ESCP-07** | STK-02 | **Escalabilidad** | Ocurre un pico de 500 usuarios concurrentes navegando el catálogo. | El sistema escala horizontalmente sus réplicas para mantener el rendimiento sin degradación. | Crece con el negocio. |
| **ESCP-08** | STK-02 | **Portabilidad** | Se decide migrar la aplicación de un proveedor de nube (ej. AWS) a otro (ej. Azure). | La arquitectura basada en Kubernetes permite el despliegue en el nuevo proveedor con cambios mínimos de configuración. | Reduce dependencia tecnológica. |
| **ESCP-09** | STK-02 | **Disponibilidad** | Ocurre una falla en la instancia principal de la base de datos de Pedidos. | El sistema conmuta automáticamente a la base de datos de réplica en menos de 1 minuto. | Redundancia y tolerancia a fallos. |
| **ESCP-10** | STK-02 | **Mantenibilidad** | El servicio de autenticación con Auth0 se debe reutilizar en una futura aplicación móvil. | La integración con Auth0 está encapsulada, permitiendo que el nuevo cliente la consuma sin cambios. | Reduce tiempo y costo de desarrollo. |
| **ESCP-11** | STK-02 | **Disponibilidad** | El microservicio de Comunidad y Reseñas falla. | La página del producto carga correctamente, mostrando un mensaje de error controlado en la sección de reseñas. | Evita fallos en cascada. |
| **ESCP-12** | STK-03 | **Mantenibilidad** | La API de la pasarela de pago (Culqi) se actualiza a una nueva versión. | Solo se necesita actualizar el `CulqiAdapter` en el Módulo de Pagos, sin afectar la lógica de negocio. | Mantiene el código desacoplado. |
| **ESCP-13** | STK-03 | **Disponibilidad** | La API de Culqi comienza a devolver errores 500 de forma intermitente. | El sistema encola la transacción y la reintenta automáticamente con una estrategia de backoff exponencial. | Evita pérdidas financieras. |
| **ESCP-14** | STK-03 | **Disponibilidad** | La tasa de error en la integración con Culqi supera el 5%. | El sistema de monitoreo detecta la anomalía y envía una alerta al equipo de soporte en menos de 2 minutos. | Identifica cuellos de botella. |
| **ESCP-15** | STK-04 | **Mantenibilidad** | Se reporta un bug en el servicio de registro de usuarios. | Un nuevo desarrollador puede entender el código, que está bien documentado, y encontrar la causa en menos de 1 hora. | Facilita el trabajo del equipo. |
| **ESCP-16** | STK-04 | **Rendimiento** | La búsqueda de juegos en el catálogo tarda más de 3 segundos. | La consulta se optimiza para que los resultados se obtengan desde Elasticsearch en menos de 1 segundo. | Mejora la experiencia de usuario. |
| **ESCP-17** | STK-04 | **Testabilidad** | Es difícil simular una respuesta de "pago rechazado" desde Auth0 durante las pruebas. | Se utilizan *mocks* del `AuthAdapter` para simular cualquier respuesta de Auth0 en las pruebas unitarias y de integración. | Acelera el desarrollo. |
| **ESCP-18** | STK-04 | **Mantenibilidad** | Un nuevo desarrollador se une al equipo para trabajar en el Módulo de Pagos. | El código sigue los estándares definidos, está bien comentado y es fácil de entender. | Reduce el tiempo de incorporación. |
| **ESCP-19** | STK-05 | **Escalabilidad** | El número de pedidos aumenta un 200% y el cálculo del costo de envío se vuelve lento. | La lógica para calcular el costo de envío escala horizontalmente para manejar la nueva carga. | Mantiene el rendimiento. |
| **ESCP-20** | STK-05 | **Mantenibilidad** | Se reporta un bug en el cálculo del costo de envío para una nueva ciudad. | Como el cálculo está encapsulado, se corrige el bug en su módulo sin afectar el resto del flujo de pedido. | Facilita la corrección. |
| **ESCP-21** | STK-05 | **Mantenibilidad** | Se necesita integrar un nuevo proveedor de envíos (ej. Shalom). | Se crea un nuevo `ShalomShippingAdapter` en menos de 8 horas-hombre sin tocar la lógica principal. | Facilita la expansión. |
| **ESCP-22** | STK-06 | **Disponibilidad** | El servicio de logística externo no responde. | El sistema muestra un mensaje al usuario ("No se pudo calcular el envío") y reintenta en segundo plano. | Previene errores en cadena. |
| **ESCP-23** | STK-06 | **Confiabilidad** | Un usuario hace doble clic en el botón "Pagar" por lentitud de la red. | El sistema procesa el primer pago y rechaza el segundo como un duplicado, evitando un doble cobro. | Evita pérdidas. |
| **ESCP-24** | STK-06 | **Usabilidad** | El flujo de pago requiere que el usuario llene demasiados campos. | Se rediseña el proceso de pago para que sea de un solo paso, pidiendo solo la información esencial. | Mejora la conversión. |
| **ESCP-25** | STK-06 | **Testabilidad** | Es difícil automatizar las pruebas del carrito de compras porque su estado cambia constantemente. | El módulo expone endpoints específicos para el entorno de pruebas que permiten añadir/quitar productos mediante API. | Acelera el ciclo de calidad. |
| **ESCP-26** | STK-07 | **Seguridad** | Un auditor externo necesita verificar el cumplimiento de las regulaciones de protección de datos. | El sistema provee logs de auditoría detallados que registran todos los accesos y cambios en datos sensibles. | Asegura el cumplimiento. |
| **ESCP-27** | STK-07 | **Testabilidad** | Es difícil probar la lógica del foro (crear, responder, moderar) de forma aislada. | El diseño del módulo permite realizar pruebas unitarias a los *services* sin necesidad de levantar toda la aplicación. | Facilita pruebas unitarias. |
| **ESCP-28** | STK-07 | **Escalabilidad** | Hay 1000 usuarios concurrentes interactuando en los foros de la comunidad. | El tiempo de respuesta para cargar y publicar comentarios se mantiene estable y por debajo de los 2 segundos. | Sostiene el crecimiento de la comunidad. |
| **ESCP-29** | STK-07 | **Usabilidad** | Un usuario responde a un comentario en el foro, pero el autor original no se entera. | El sistema envía una notificación (en la app o por email) al autor del comentario original. | Fomenta la participación. |
| **ESCP-30** | STK-08 | **Usabilidad** | La interfaz del foro es confusa y los usuarios no encuentran cómo crear un nuevo tema. | Se rediseña la interfaz de la comunidad para que sea más intuitiva y clara. | Mejora la interacción. |
| **ESCP-31** | STK-08 | **Usabilidad** | Un usuario está escribiendo una reseña larga y el navegador se cierra. | El sistema guarda un borrador automáticamente cada 30 segundos para que el usuario no pierda su trabajo. | Impacta en la satisfacción. |
| **ESCP-32** | STK-08 | **Mantenibilidad** | Se necesita cambiar el diseño de la página de inicio. | Los componentes del frontend son reutilizables, permitiendo cambiar el diseño con bajo esfuerzo. | Acelera el desarrollo. |
| **ESCP-33** | STK-09 | **Disponibilidad** | Un error en el código del frontend causa que toda la aplicación deje de funcionar. | Se implementa un mecanismo de "Error Boundary" en React que aísla el error a un solo componente. | Mejora la robustez del frontend. |
| **ESCP-34** | STK-09 | **Rendimiento** | La página del catálogo carga lento porque todas las imágenes se cargan a la vez. | Se implementa "lazy loading" para que las imágenes solo se carguen a medida que el usuario hace scroll. | Mejora la experiencia y el SEO. |
| **ESCP-35** | STK-10 | **Seguridad** | Un desarrollador accidentalmente sube credenciales de la base de datos a un repositorio público. | Se implementan herramientas de escaneo de secretos que bloquean el *commit* si detectan credenciales. | Previene fugas de datos. |
| **ESCP-36** | STK-10 | **Disponibilidad** | Un bug crítico en producción afecta a todos los usuarios. | Se utiliza una estrategia de despliegue (ej. Blue-Green) que permite revertir a la versión anterior en menos de 1 minuto. | Reduce el tiempo de resolución. |
| **ESCP-37** | STK-10 | **Rendimiento** | El reporte de ventas tarda demasiado en generarse porque consulta la base de datos de producción. | El reporte se genera consultando el Data Lake, que está optimizado para análisis y no afecta a la BD principal. | Mejora el rendimiento del sistema. |
| **ESCP-38** | STK-10 | **Trazabilidad** | Un error ocurre en producción, pero los logs no dan suficiente información. | Se implementa un sistema de logging estructurado que incluye un ID de correlación para seguir una petición a través de todos los microservicios. | Facilita la depuración. |
| **ESCP-39** | STK-10 | **Seguridad** | No hay un control claro sobre qué datos sensibles pueden ver los desarrolladores. | Se implementa un control de acceso basado en roles (RBAC) a los datos y se enmascaran los datos sensibles en entornos no productivos. | Protección de datos del negocio. |
| **ESCP-40** | STK-11 | **Disponibilidad** | El servicio de Culqi está caído. | La página de pago muestra un mensaje claro al usuario y el sistema de monitoreo alerta al equipo de soporte. | Mantiene la transparencia con el usuario. |
| **ESCP-41** | STK-11 | **Seguridad** | El *webhook* de Culqi podría ser falsificado por un atacante. | Se valida la firma digital de cada notificación de webhook para asegurar que provenga de Culqi. | Protección de la integridad financiera. |
| **ESCP-42** | STK-11 | **Confiabilidad** | La comunicación con la API de Culqi es intermitente. | El sistema utiliza el `correlation_id` para asegurar que las transacciones no se procesen más de una vez. | Garantiza la idempotencia. |
| **ESCP-43** | STK-12 | **Disponibilidad** | El sitio web está caído y el vendedor no puede gestionar sus productos. | El sistema garantiza un tiempo de actividad (uptime) del 99.9%. | Permite al vendedor operar en cualquier momento. |
| **ESCP-44** | STK-12 | **Usabilidad** | La interfaz para subir y gestionar productos es compleja. | Se diseña una interfaz simple y guiada para que el vendedor pueda publicar un producto en pocos pasos. | Amplía la base de vendedores. |
| **ESCP-45** | STK-12 | **Usabilidad** | El proceso de registro para ser vendedor es muy largo. | Se simplifica el registro pidiendo solo los datos esenciales inicialmente. | Aumenta la tasa de registro de vendedores. |
| **ESCP-46** | STK-12 | **Disponibilidad** | El sitio web está caído y el comprador no puede comprar. | El sistema garantiza un tiempo de actividad (uptime) del 99.9%. | Permite al usuario comprar en cualquier momento. |
| **ESCP-47** | STK-13 | **Usabilidad** | Es difícil encontrar juegos de un género específico. | Se implementan filtros de búsqueda rápidos y precisos. | Mejora la experiencia de compra. |
| **ESCP-48** | STK-13 | **Seguridad** | Los datos personales del usuario son comprometidos. | La información del usuario se almacena de forma segura y se encripta. | Genera confianza. |
| **ESCP-49** | STK-13 | **Rendimiento** | Las imágenes del catálogo tardan mucho en cargar. | Las imágenes se optimizan y se sirven a través de una CDN para una carga rápida. | Mejora la experiencia. |
| **ESCP-50** | STK-13 | **Usabilidad** | Un producto llega incorrecto y el usuario no sabe cómo reportarlo. | Se diseña un flujo simple para que el usuario pueda iniciar una devolución o reclamo desde su historial de pedidos. | Aumenta la lealtad de la plataforma. |
| **ESCP-51** | STK-13 | **Confiabilidad** | El estado del envío no se actualiza a tiempo. | El sistema se integra con el proveedor de logística para mostrar el estado del envío en tiempo real. | Reduce la incertidumbre del cliente. |
| **ESCP-52** | STK-13 | **Seguridad** | Las reseñas contienen spoilers o lenguaje ofensivo. | Se implementa un sistema de moderación de contenido y la opción de reportar reseñas. | Mejora la calidad de los datos. |
| **ESCP-53** | STK-13 | **Rendimiento** | Las páginas de productos cargan lento. | Se optimizan las consultas a la base de datos y se cachean los datos de productos más visitados. | Mejora la experiencia del vendedor. |
| **ESCP-54** | STK-13 | **Usabilidad** | El panel de control del usuario es confuso. | Se rediseña el panel de control para que sea más claro e intuitivo. | Mejora la experiencia del vendedor. |
