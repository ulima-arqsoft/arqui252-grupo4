# 3.5. Refinamiento de Escenarios

Los siguientes escenarios han sido refinados con base en la priorización y enfocados en la **funcionalidad principal** de GameVault.

## Escenarios Refinados

| ID | Atributo de Calidad | Fuente Estímulo | Estímulo | Artefacto Tecnológico | Entorno | Respuesta del Sistema | Medida de Respuesta |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **ESC-01** | **Usabilidad** Usuario | Realiza una búsqueda combinando 3 filtros (género, plataforma, etiqueta). | Motor de Búsqueda (Elasticsearch) | Producción | El sistema es eficiente y fácil de usar, devolviendo resultados precisos. | El 95% de los usuarios completan la búsqueda en < 3s. |
| **ESC-02** | **Usabilidad** | Usuario | Introduce credenciales incorrectas en el formulario de login. | Widget de Login Universal **(Auth0)** | Producción | Auth0 muestra un mensaje de error claro e inmediato ("Usuario o contraseña incorrectos"). | El 100% de los intentos fallidos reciben feedback en < 1s. |
| **ESC-03** | **Confiabilidad** | Usuario | Un usuario, debido a una red lenta, hace doble clic en el botón "Confirmar Pago". | Microservicio de Pagos (Lógica de Idempotencia) | Producción | El sistema procesa la primera solicitud, pero identifica y rechaza la segunda como un duplicado, garantizando un único cobro. | El **100% de las solicitudes duplicadas** para la misma orden son rechazadas. |
| **ESC-04** | **Seguridad** | Actor malicioso (externo) | Intento de pago con una tarjeta de crédito previamente reportada como fraudulenta. | Microservicio de Pagos / Sistema Antifraude | Producción | La transacción es rechazada automáticamente y se genera una alerta de seguridad interna. | El **100% de los intentos** con tarjetas en la lista negra son bloqueados. |
| **ESC-05** | **Disponibilidad** | Falla de red externa | El microservicio de Pagos no puede conectar con la pasarela de pago (Stripe). | Sistema de Colas de Mensajes | Producción | La transacción se encola y el sistema reintenta procesarla automáticamente cuando el servicio se restaura. | El 99% de las transacciones con fallos intermitentes se completan exitosamente. |
| **ESC-06** | **Rendimiento** | Usuario | Se autentica exitosamente en Auth0 usando la opción "Login con Google". | API Gateway + Microservicio GU | Producción | El sistema valida el token de Auth0 y establece la sesión interna del usuario rápidamente. | El tiempo total desde el callback de Auth0 hasta que el usuario tiene una sesión activa es < 1.5 segundos. |
| **ESC-07** | **Usabilidad** | Usuario | Comete un error tipográfico al buscar un juego (ej. "halof"). | Motor de Búsqueda (Elasticsearch) | Producción | El sistema muestra la sugerencia: “¿Quisiste decir: ‘halo’?”. | El 90% de las sugerencias son correctas. |
| **ESC-08** | **Usabilidad** | Usuario | Completa el flujo de "Olvidé mi contraseña" en la interfaz de Auth0. | Flujo de Recuperación **(Auth0)** | Producción | El usuario es redirigido de vuelta a GameVault y puede iniciar sesión con su nueva contraseña. | El 98% de los usuarios completan el flujo de recuperación sin asistencia. |
| **ESC-09** | **Disponibilidad** | Actor malicioso | Realiza 10 intentos de login fallidos desde la misma dirección IP en 1 minuto. | Plataforma **Auth0** (Attack Protection) | Producción | Auth0 bloquea temporalmente la dirección IP para que no pueda realizar más intentos de login. | El 100% de las IPs con comportamiento anómalo son bloqueadas. |
| **ESC-10** | **Rendimiento** | Herramienta de Carga | **15 usuarios creando pedidos simultáneamente.** | Microservicio de Pedidos | Producción | El endpoint de creación de pedidos responde en menos de 5 segundos. | **95% de los pedidos se crean exitosamente** bajo la carga definida. |