> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../../9.md) ‚Ä∫ [9.4. Iteraci√≥n 3: Refinar estructuras para abordar el atributo de calidad m√°s importante](../9.4.md) ‚Ä∫ [9.4.4. Elementos instanciados](9.4.4.md)

# 9.4.4. Elementos instanciados

| C√≥digo | Decisi√≥n de Dise√±o | Fundamentaci√≥n |
| :--- | :--- | :--- |
| **DEC-26** | Middleware de Seguridad en Express (Helmet + CORS) | Configuraci√≥n estricta de cabeceras HTTP (HSTS, No-Sniff) y pol√≠ticas CORS restrictivas en todos los microservicios Node.js para prevenir ataques comunes de navegador. |
| **DEC-27** | Gesti√≥n de Secretos con Kubernetes Secrets / Vault | Las claves de API (Culqi, IGDB, Auth0) y credenciales de BD no estar√°n en c√≥digo. Se inyectar√°n como variables de entorno cifradas en los contenedores en tiempo de ejecuci√≥n. |
| **DEC-28** | Auditor√≠a de Eventos de Seguridad (Audit Logging) | El Servicio de Usuarios y Pagos emitir√° eventos de auditor√≠a (ej. "Login fallido", "Reembolso procesado") a un t√≥pico seguro de Kafka para an√°lisis forense y detecci√≥n de anomal√≠as (**QA-14**). |
| **DEC-29** | Comunicaci√≥n Interna mTLS (Mutual TLS) | (Opcional/Avanzado) Cifrado del tr√°fico este-oeste entre microservicios dentro del cl√∫ster de Kubernetes para prevenir "sniffing" interno en caso de compromiso de un pod. |

---

[‚¨ÖÔ∏è Anterior](../9.4.3/9.4.3.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../9.4.5/9.4.5.md)