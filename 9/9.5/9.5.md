> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../9.md) ‚Ä∫ [9.5. Iteraciones adicionales: Otros atributos de calidad](9.5.md)

# 9.5. Iteraciones adicionales: Otros atributos de calidad

## 9.5.1. Objetivo de la iteraci√≥n
El objetivo de esta iteraci√≥n es enriquecer la experiencia del usuario integrando las funcionalidades sociales y de comunidad que fueron pospuestas (Foros, Rese√±as) y habilitar las caracter√≠sticas exclusivas del modelo de negocio (Membres√≠a Premium). Se busca transformar la plataforma de una simple tienda transaccional a una comunidad de gamers, fomentando el *engagement* y la monetizaci√≥n recurrente.

## 9.5.2. Elegir elementos del sistema a refinar

Se refinan los siguientes elementos:
* **Microservicio de Comunidad (M5):** Implementaci√≥n completa de l√≥gica de foros y rese√±as.
* **Microservicio de Gesti√≥n de Usuarios (M2):** L√≥gica de suscripci√≥n y beneficios Premium.
* **Microservicio de Cat√°logo (M1):** Integraci√≥n de rese√±as en la vista de producto.
* **Microservicio de An√°lisis (M6):** Generaci√≥n de reportes avanzados para usuarios Premium.
* **Frontend:** Interfaz de foros y dashboards de usuario avanzados.

## 9.5.3. Elegir conceptos de dise√±o que satisfacen el driver seleccionado

| C√≥digo | Decisi√≥n de Dise√±o | Fundamentaci√≥n |
| :--- | :--- | :--- |
| **DEC-30** | Modelo de Datos Documental (MongoDB) para Foros y Rese√±as | Implementar el esquema flexible de MongoDB en el Servicio de Comunidad para soportar hilos de discusi√≥n anidados, reacciones y metadatos variables, optimizando la lectura de contenido generado por usuarios (**CU-14**, **CU-17**). |
| **DEC-31** | Carga As√≠ncrona de Rese√±as en Detalle de Producto (Lazy Loading) | Para no penalizar el rendimiento de la p√°gina de venta (**QA-15**), las rese√±as se cargar√°n mediante una llamada separada y as√≠ncrona despu√©s de renderizar la informaci√≥n cr√≠tica del producto. |
| **DEC-32** | Sistema de Moderaci√≥n H√≠brido (Autom√°tico + Manual) | Integrar un filtro de palabras prohibidas en el backend (autom√°tico) y un panel de administraci√≥n para reportes de usuarios (manual), asegurando un ambiente seguro (**CU-16**, **CRN-05**). |
| **DEC-33** | Beneficios Premium: Env√≠o Gratis y Descuentos Autom√°ticos | Configurar el Servicio de Pedidos para aplicar autom√°ticamente reglas de negocio (descuento en shipping) al detectar el rol "Premium" en el token del usuario durante el checkout (**CU-36**). |
| **DEC-34** | Dashboard de "Mi Colecci√≥n" Extendido para Premium | Habilitar endpoints exclusivos en el Servicio de An√°lisis que entreguen estad√≠sticas avanzadas (valor hist√≥rico de la colecci√≥n, gr√°ficos de g√©neros favoritos) solo a usuarios suscriptores (**CU-39**). |
| **DEC-35** | Cach√© Agresiva para Contenido Social | Utilizar Redis para cachear los hilos de foros m√°s populares y las rese√±as de juegos "Top Ventas", reduciendo la carga en MongoDB ante picos de lectura (**QA-02**). |

## 9.5.4. Instanciar elementos de arquitectura, asignar responsabilidades y definir interfaces

| C√≥digo | Decisi√≥n de Dise√±o | Fundamentaci√≥n |
| :--- | :--- | :--- |
| **DEC-36** | Servicio de Comunidad expone API REST para CRUD de Hilos/Post | Maneja la creaci√≥n, edici√≥n y lectura de foros. Valida permisos de usuario y aplica sanitizaci√≥n de contenido antes de guardar en MongoDB. |
| **DEC-37** | Servicio de Usuarios gestiona ciclo de vida de Suscripci√≥n | Se integra con Stripe/Culqi Recurrentes para manejar el estado de la membres√≠a (Activa, Vencida, Cancelada) y sincroniza este estado en el perfil del usuario y Auth0. |
| **DEC-38** | Servicio de An√°lisis procesa y sirve "Insights" de Jugador | Un worker de Python calcula m√©tricas complejas (horas jugadas, valor de mercado de colecci√≥n) en batch nocturno y las guarda en una vista materializada para consumo r√°pido del usuario Premium. |
| **DEC-39** | Componente Frontend de Foros con Editor Rico (Rich Text) | Implementaci√≥n de una interfaz de usuario en React que permite formato de texto, incrustaci√≥n de im√°genes y citas, mejorando la calidad de la interacci√≥n social (**CU-17**). |

## 9.5.5. Bosquejar vistas y registrar decisiones de dise√±o

---

[‚¨ÖÔ∏è Anterior](../9.4/9.4.md) | [üè† Home](../../README.md)