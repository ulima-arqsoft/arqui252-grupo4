> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../../9.md) ‚Ä∫ [9.2. Iteraci√≥n 1: Definir la estructura general del sistema](../9.2.md) ‚Ä∫ [9.2.5. Vistas y Decisiones](9.2.5.md)

# 9.2.5. Vistas y Decisiones

![Diagrama de Contenedores](../View/Componentes_GameVault.png)

### **Estructura de Microservicios Definida:**

**1. Microservicio de Cat√°logo de Productos**
* **Responsabilidades:** Gesti√≥n de juegos, control de inventario, b√∫squeda avanzada.
* **Tecnolog√≠a:** Node.js + Express + PostgreSQL (Maestra) + Elasticsearch (B√∫squeda) + Redis (Cach√©).
* **Patrones:** CQRS (separaci√≥n lectura/escritura impl√≠cita), Cache-Aside, Gateway Aggregation.
* **Casos de Uso:** CU-05, CU-06, CU-07.

**2. Microservicio de Gesti√≥n de Usuarios**
* **Responsabilidades:** Perfiles de usuario, preferencias, sincronizaci√≥n con Auth0.
* **Tecnolog√≠a:** Node.js + Express + PostgreSQL + Auth0.
* **Patrones:** Arquitectura en Capas.
* **Casos de Uso:** CU-01, CU-02, CU-03, CU-04.

**3. Microservicio de Carrito y Pedidos**
* **Responsabilidades:** Gesti√≥n temporal del carrito, creaci√≥n de √≥rdenes, checkout.
* **Tecnolog√≠a:** Node.js + Express + Redis (Carrito) + PostgreSQL (Pedidos).
* **Patrones:** Datos Compartidos H√≠brido, Saga (Orquestaci√≥n de pedidos).
* **Casos de Uso:** CU-08, CU-09, CU-10.

**4. Microservicio de Sistema de Pagos**
* **Responsabilidades:** Interacci√≥n con Culqi, validaci√≥n de webhooks, registro de transacciones.
* **Tecnolog√≠a:** Node.js + Express + PostgreSQL + RabbitMQ (Cola de reintentos).
* **Patrones:** Queue-Based Load Leveling (para reintentos), Webhooks (Pub/Sub).
* **Casos de Uso:** CU-11, CU-12, CU-13.

**5. Microservicio de Comunidad y Rese√±as**
* **Responsabilidades:** Rese√±as, calificaciones, foros, moderaci√≥n.
* **Tecnolog√≠a:** Node.js + Express + MongoDB (Documental).
* **Patrones:** Arquitectura en Capas.
* **Casos de Uso:** CU-14, CU-15, CU-16, CU-17.

**6. Microservicio de An√°lisis y Reportes**
* **Responsabilidades:** Ingesta de eventos, generaci√≥n de m√©tricas de negocio.
* **Tecnolog√≠a:** Python (Pandas) + Kafka (Ingesta) + PostgreSQL (Data Warehouse).
* **Patrones:** Pipe-and-Filter, Map-Reduce (L√≥gico), Publicar-Suscribir.
* **Casos de Uso:** CU-18, CU-19, CU-20.

### **Patrones y T√°cticas Aplicadas por Atributo de Calidad:**

* **Disponibilidad:**
    * Redundancia activa en Kubernetes (Deployment Replicas).
    * Circuit Breaker en el API Gateway para fallos en cascada (QA-03).
    * Queue-Based Load Leveling en Pagos (DEC-4, DEC-10).
* **Rendimiento:**
    * Cache-Aside con Redis en Cat√°logo y Carrito (DEC-4).
    * Elasticsearch para b√∫squedas de texto completo y fuzzy search (QA-12).
    * Comunicaci√≥n as√≠ncrona (Kafka) para tareas no bloqueantes (Anal√≠tica).
* **Seguridad:**
    * Autenticaci√≥n centralizada con Auth0 (DEC-3).
    * Validaci√≥n de Webhooks de Culqi con firma criptogr√°fica (DEC-10).
    * Aislamiento de red (Patr√≥n Multi-Tier) para bases de datos.
* **Escalabilidad:**
    * Horizontal Pod Autoscaler (HPA) en Kubernetes para servicios stateless (M1, M3).
    * Particionamiento de t√≥picos en Kafka.

---

[‚¨ÖÔ∏è Anterior](../9.2.4/9.2.4.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../9.1.6/9.1.6.md)