0.6.3 Leonardo Miguel Pachas Cleonares
Excluyendo MongoDB. Ejemplo: Cosmos DB
Proyecto: GameVault ‚Äì Cat√°logo de Productos
1. Introducci√≥n

En las arquitecturas modernas de software, las bases de datos NoSQL se han convertido en componentes esenciales para manejar grandes vol√∫menes de informaci√≥n de manera flexible, escalable y distribuida.
Dentro de este ecosistema, Azure Cosmos DB surge como una alternativa avanzada a MongoDB, ofreciendo un modelo multimodal, baja latencia y replicaci√≥n global automatizada dentro del entorno Azure Cloud.

En el proyecto GameVault, una plataforma e-commerce enfocada en la compra y venta de videojuegos y juegos de mesa, Cosmos DB cumple un rol clave al permitir el almacenamiento eficiente de cat√°logos, usuarios y transacciones sin depender de un motor relacional tradicional.

2. Desarrollo Conceptual

Una base de datos NoSQL multimodelo distribuida permite gestionar datos no estructurados y semiestructurados a gran escala. A diferencia de los modelos relacionales, prioriza la escalabilidad horizontal y la baja latencia mediante particionamiento y replicaci√≥n.

Cosmos DB es un ejemplo de este enfoque: una base de datos NoSQL globalmente distribuida y multimodelo de Microsoft.
Entre sus principales caracter√≠sticas destacan:

Modelos soportados:

SQL (JSON documents)

Cassandra (columnar)

Gremlin (graphs)

Table (key-value)

PostgreSQL (relacional distribuido)

Replicaci√≥n autom√°tica en m√∫ltiples regiones.

Cinco niveles de consistencia: Strong, Bounded Staleness, Session, Consistent Prefix y Eventual.

Garant√≠as de SLA: disponibilidad del 99.999% y latencias menores a 10 ms.

En una arquitectura basada en microservicios, Cosmos DB permite que cada servicio mantenga independencia de datos y escale de forma aut√≥noma, evitando los cuellos de botella comunes de las bases relacionales.

3. Ventajas y Desventajas
Ventajas	Desventajas
Escalabilidad global y autom√°tica	Costos m√°s altos que soluciones locales
Soporte multimodelo (documental, grafos, tablas, etc.)	Requiere experiencia para optimizar RU/s
Baja latencia y disponibilidad garantizada	Solo disponible en el ecosistema Azure
Replicaci√≥n y consistencia configurables	Dependencia de conexi√≥n a Internet
Integraci√≥n nativa con Power BI y Azure Functions	Curva de aprendizaje inicial m√°s alta
4. Aplicaci√≥n en el Proyecto GameVault

GameVault necesita manejar grandes vol√∫menes de productos, usuarios y pedidos en tiempo real.
Cosmos DB se integra en el m√≥dulo de Cat√°logo de Productos, asegurando rendimiento y consistencia en operaciones de lectura y escritura.

M√≥dulo	Uso de Cosmos DB
Cat√°logo de Productos	Cada videojuego se almacena como documento JSON con nombre, consola, precio, rareza, etc.
Gesti√≥n de Usuarios	Guarda roles, historial de compras y rese√±as.
Carrito y Pedidos	Registra √≥rdenes en tiempo real con consistencia de sesi√≥n.
Pagos	Maneja tokens y resultados de transacciones con consistencia fuerte.
Rese√±as y Comunidad	Asocia comentarios y valoraciones con usuarios y productos.
Reportes	Conexi√≥n directa a Power BI mediante Synapse Link.

Flujo b√°sico de operaci√≥n:

El usuario selecciona un videojuego.

El backend (FastAPI) registra la orden en Cosmos DB.

Cosmos DB replica la informaci√≥n en m√∫ltiples regiones.

Los administradores visualizan estad√≠sticas en Power BI en tiempo real.

5. Consideraciones T√©cnicas
Requisitos Previos

Cuenta activa en Azure Portal.

Python 3.10+, FastAPI y SDK de Azure Cosmos.

Entorno local (VS Code, Docker, etc.).

Creaci√≥n del Recurso

En Azure Portal ‚Üí Create Resource ‚Üí Azure Cosmos DB for NoSQL (Core API).

Configurar:

Account Name: gamevault-db

Region: East US (o m√°s cercana)

Throughput: Autoscale (400‚Äì4000 RU/s)

Crear la base de datos GameVault y el contenedor Products, con partici√≥n /category.

6. Demo ‚Äì C√≥digo de Ejemplo (FastAPI + CosmosDB)
from fastapi import FastAPI
from azure.cosmos import CosmosClient
import os

app = FastAPI()

URL = os.getenv("COSMOSDB_URL", "https://<TU_CUENTA>.documents.azure.com:443/")
KEY = os.getenv("COSMOSDB_KEY", "<TU_LLAVE_PRIMARIA>")
DB_NAME = "GameVault"
CONTAINER_NAME = "Products"

client = CosmosClient(URL, credential=KEY)
database = client.get_database_client(DB_NAME)
container = database.get_container_client(CONTAINER_NAME)

@app.post("/add_product")
async def add_product(item: dict):
    container.create_item(body=item)
    return {"message": "Producto agregado exitosamente"}

@app.get("/products")
async def list_products():
    query = "SELECT * FROM c WHERE c.category = 'Retro'"
    items = list(container.query_items(query=query, enable_cross_partition_query=True))
    return {"products": items}

7. Link del Video YouTube ‚Äì Parte Individual

üé• https://youtu.be/C7xJ2QWezZc
